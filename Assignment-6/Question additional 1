#include<stdio.h>
#include<stdlib.h>

struct Node {
    int data;
    struct Node* next;
};

void splitCircularList() {
    // Create circular list: 10->4->9
    struct Node* head = NULL;
    struct Node* last = NULL;
    int arr[] = {10, 4, 9};
    int n = 3;
    
    // Build circular linked list
    for(int i=0; i<n; i++) {
        struct Node* newNode = (struct Node*)malloc(sizeof(struct Node));
        newNode->data = arr[i];
        newNode->next = NULL;
        
        if(head == NULL) {
            head = newNode;
            last = newNode;
        } else {
            last->next = newNode;
            last = newNode;
        }
    }
    last->next = head;
    
    printf("Input: 10->4->9\n");
    
    // Split into two halves
    struct Node* slow = head;
    struct Node* fast = head;
    
    while(fast->next != head && fast->next->next != head) {
        slow = slow->next;
        fast = fast->next->next;
    }
    
    // First half
    struct Node* head1 = head;
    struct Node* head2 = slow->next;
    
    // Make both circular
    slow->next = head1;
    last->next = head2;
    
    printf("Output: ");
    
    // Display first half
    struct Node* temp = head1;
    do {
        printf("%d", temp->data);
        temp = temp->next;
        if(temp != head1) printf("->");
    } while(temp != head1);
    
    printf(" , ");
    
    // Display second half
    temp = head2;
    do {
        printf("%d", temp->data);
        temp = temp->next;
        if(temp != head2) printf("->");
    } while(temp != head2);
    printf("\n");
}

int main() {
    splitCircularList();
    return 0;
}
